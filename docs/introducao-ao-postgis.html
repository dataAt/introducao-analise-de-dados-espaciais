<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Introdu√ß√£o ao postgis üêò | intro-analise-de-dados-espaciais.utf8.md</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Introdu√ß√£o ao postgis üêò | intro-analise-de-dados-espaciais.utf8.md" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Introdu√ß√£o ao postgis üêò | intro-analise-de-dados-espaciais.utf8.md" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="python.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introducao.html"><a href="introducao.html"><i class="fa fa-check"></i><b>1</b> Introdu√ß√£o</a><ul>
<li class="chapter" data-level="1.1" data-path="introducao.html"><a href="introducao.html#representacoes-de-dados-espaciais"><i class="fa fa-check"></i><b>1.1</b> Representa√ß√µes de dados espaciais</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introducao.html"><a href="introducao.html#vetoriais"><i class="fa fa-check"></i><b>1.1.1</b> Vetoriais</a></li>
<li class="chapter" data-level="1.1.2" data-path="introducao.html"><a href="introducao.html#matriciais"><i class="fa fa-check"></i><b>1.1.2</b> Matriciais</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introducao.html"><a href="introducao.html#sistema-de-referencia-espacial"><i class="fa fa-check"></i><b>1.2</b> Sistema de refer√™ncia espacial</a></li>
<li class="chapter" data-level="1.3" data-path="introducao.html"><a href="introducao.html#projecoes-cartograficas"><i class="fa fa-check"></i><b>1.3</b> Proje√ß√µes cartogr√°ficas</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introducao.html"><a href="introducao.html#tipos-de-projecao"><i class="fa fa-check"></i><b>1.3.1</b> Tipos de proje√ß√£o</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introducao.html"><a href="introducao.html#sistema-de-coordenadas"><i class="fa fa-check"></i><b>1.4</b> Sistema de Coordenadas</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introducao.html"><a href="introducao.html#sistemas-de-coordenadas-geograficas"><i class="fa fa-check"></i><b>1.4.1</b> Sistemas de Coordenadas Geogr√°ficas</a></li>
<li class="chapter" data-level="1.4.2" data-path="introducao.html"><a href="introducao.html#coordenadas-planas"><i class="fa fa-check"></i><b>1.4.2</b> Coordenadas planas</a></li>
<li class="chapter" data-level="1.4.3" data-path="introducao.html"><a href="introducao.html#codigos-epsg"><i class="fa fa-check"></i><b>1.4.3</b> C√≥digos EPSG</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introducao.html"><a href="introducao.html#open-geospatial-consortium-ogc"><i class="fa fa-check"></i><b>1.5</b> Open Geospatial Consortium (OGC)</a></li>
<li class="chapter" data-level="1.6" data-path="introducao.html"><a href="introducao.html#tipos-e-operacoes-espaciais"><i class="fa fa-check"></i><b>1.6</b> Tipos e opera√ß√µes espaciais</a></li>
<li class="chapter" data-level="1.7" data-path="introducao.html"><a href="introducao.html#relacionamentos-espaciais-nomeados"><i class="fa fa-check"></i><b>1.7</b> Relacionamentos espaciais nomeados</a><ul>
<li class="chapter" data-level="1.7.1" data-path="introducao.html"><a href="introducao.html#relacionamentos-espaciais"><i class="fa fa-check"></i><b>1.7.1</b> Relacionamentos espaciais</a></li>
<li class="chapter" data-level="1.7.2" data-path="introducao.html"><a href="introducao.html#restricoes-espaciais"><i class="fa fa-check"></i><b>1.7.2</b> Restri√ß√µes espaciais</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introducao.html"><a href="introducao.html#matriz-de-9-interseccoes-estendida-dimensionalmente"><i class="fa fa-check"></i><b>1.8</b> Matriz de 9-intersec√ß√µes Estendida dimensionalmente</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>2</b> R üíé</a><ul>
<li class="chapter" data-level="2.1" data-path="r.html"><a href="r.html#tibble"><i class="fa fa-check"></i><b>2.1</b> Tibble</a><ul>
<li class="chapter" data-level="2.1.1" data-path="r.html"><a href="r.html#tidyverse"><i class="fa fa-check"></i><b>2.1.1</b> Tidyverse</a></li>
<li class="chapter" data-level="2.1.2" data-path="r.html"><a href="r.html#manipulacao-de-dados"><i class="fa fa-check"></i><b>2.1.2</b> Manipula√ß√£o de dados</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="r.html"><a href="r.html#sf"><i class="fa fa-check"></i><b>2.2</b> SF</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r.html"><a href="r.html#tipos-geometricos"><i class="fa fa-check"></i><b>2.2.1</b> Tipos Geom√©tricos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r.html"><a href="r.html#leitura-e-escrita-de-dados-vetoriais"><i class="fa fa-check"></i><b>2.2.2</b> Leitura e escrita de dados vetoriais</a></li>
<li class="chapter" data-level="2.2.3" data-path="r.html"><a href="r.html#relacionamentos-espaciais-1"><i class="fa fa-check"></i><b>2.2.3</b> Relacionamentos Espaciais</a></li>
<li class="chapter" data-level="2.2.4" data-path="r.html"><a href="r.html#operadores-metricos"><i class="fa fa-check"></i><b>2.2.4</b> Operadores M√©tricos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r.html"><a href="r.html#sistemas-de-referencias"><i class="fa fa-check"></i><b>2.2.5</b> Sistemas de refer√™ncias</a></li>
<li class="chapter" data-level="2.2.6" data-path="r.html"><a href="r.html#materiais-recomendados"><i class="fa fa-check"></i><b>2.2.6</b> Materiais recomendados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="python.html"><a href="python.html"><i class="fa fa-check"></i><b>3</b> Python ‚ú®</a><ul>
<li class="chapter" data-level="3.1" data-path="python.html"><a href="python.html#pandas"><i class="fa fa-check"></i><b>3.1</b> Pandas üêº</a><ul>
<li class="chapter" data-level="3.1.1" data-path="python.html"><a href="python.html#manipulacao-de-dados-1"><i class="fa fa-check"></i><b>3.1.1</b> Manipula√ß√£o de dados</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="python.html"><a href="python.html#geopandas"><i class="fa fa-check"></i><b>3.2</b> GeoPandas üåèüêº</a><ul>
<li class="chapter" data-level="3.2.1" data-path="python.html"><a href="python.html#geoseries-e-geodataframes"><i class="fa fa-check"></i><b>3.2.1</b> GeoSeries e GeoDataFrames</a></li>
<li class="chapter" data-level="3.2.2" data-path="python.html"><a href="python.html#leitura-e-escrita-de-dados-1"><i class="fa fa-check"></i><b>3.2.2</b> Leitura e escrita de dados</a></li>
<li class="chapter" data-level="3.2.3" data-path="python.html"><a href="python.html#manipulacao-geometrica"><i class="fa fa-check"></i><b>3.2.3</b> Manipula√ß√£o geom√©trica</a></li>
<li class="chapter" data-level="3.2.4" data-path="python.html"><a href="python.html#selecao-e-filtro-de-dados"><i class="fa fa-check"></i><b>3.2.4</b> Sele√ß√£o e filtro de dados</a></li>
<li class="chapter" data-level="3.2.5" data-path="python.html"><a href="python.html#manipulacao-de-projecoes"><i class="fa fa-check"></i><b>3.2.5</b> Manipula√ß√£o de proje√ß√µes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introducao-ao-postgis.html"><a href="introducao-ao-postgis.html"><i class="fa fa-check"></i><b>4</b> Introdu√ß√£o ao postgis üêò</a><ul>
<li class="chapter" data-level="4.1" data-path="introducao-ao-postgis.html"><a href="introducao-ao-postgis.html#instalacao"><i class="fa fa-check"></i><b>4.1</b> Instala√ß√£o</a></li>
<li class="chapter" data-level="4.2" data-path="introducao-ao-postgis.html"><a href="introducao-ao-postgis.html#um-pouco-de-sql"><i class="fa fa-check"></i><b>4.2</b> Um pouco de SQL</a><ul>
<li class="chapter" data-level="4.2.1" data-path="introducao-ao-postgis.html"><a href="introducao-ao-postgis.html#acessando-a-interface-postgresql"><i class="fa fa-check"></i><b>4.2.1</b> Acessando a interface PostgreSQL</a></li>
<li class="chapter" data-level="4.2.2" data-path="introducao-ao-postgis.html"><a href="introducao-ao-postgis.html#criando-uma-nova-base-de-dados"><i class="fa fa-check"></i><b>4.2.2</b> Criando uma nova base de dados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>5</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introducao-ao-postgis" class="section level1">
<h1><span class="header-section-number">4</span> Introdu√ß√£o ao postgis üêò</h1>
<p>Uma das principais caracter√≠sticas que diferenciam os bancos de dados
geogr√°ficos dos demais bancos de dados convencionais, √© a presen√ßa de uma coluna
com a finalidade de armazenar uma propriedade geogr√°fica do registro. Al√©m disso
, os bancos de dados geogr√°ficos tamb√©m devem oferecer de forma otimizada
suporte √† opera√ß√µes espaciais. Diferente de um passado n√£o muito distante,
atualmente existem muitas alternativas de bancos de dados geogr√°ficos, como:
<a href="https://docs.microsoft.com/pt-br/sql/relational-databases/spatial/spatial-data-sql-server?view=sql-server-ver15">SQL Server Spatial</a>, <a href="https://web.archive.org/web/20060316161213/http://www.esri.com/software/arcgis/arcsde/">ESRI ArcSDE</a>, <a href="https://www.oracle.com/database/technologies/spatialandgraph.html">Oracle Spatial</a>, <a href="https://www.geomesa.org/">GeoMesa</a>,
<a href="https://postgis.net/">PostGIS</a>, etc. Cada uma destas op√ß√µes tem o objetivo em comum trabalhar com
dados geogr√°ficos e todas est√£o sendo muito utlizadas em diversos segmentos nos
dias de hoje, sendo o PostGIS a mais popular de todas.</p>
<p>O PostGIS √© uma extens√£o geogr√°fica <em>open source</em> para o SGDB (Sistema
Gerenciador de Banco de Dados) <a href="https://www.postgresql.org/">PostgreSQL</a>, lan√ßada em 2001 inicialmente por
uma empresa canadense chamada Refractions Research. O PostGIS segue a
padroniza√ß√£o estabelecida pelo OGC (<em>Open GIS Consortium</em>), que prov√™ suporte
para todos os objetos e fun√ß√µes da especifica√ß√£o <a href="https://www.opengeospatial.org/standards/sfa">SFS</a> (<em>Simple Features for</em>
<em>SQL</em>). De forma concisa, a especifica√ß√£o SFS foi criada pelo OGC (cons√≥rcio
formado por empresas, universidades, etc) e trata das quest√µes de representa√ß√£o
da componente espacial e vetorial dos dados geogr√°ficos, garantindo assim, a
interoperabilidade entre os sistemas os utilizam.</p>
<p>Este cap√≠tulo tem como objetivo introduzir ao leitor √† extens√£o espacial PostGIS
. Ao final, o leitor dever√° est√° apto a configurar corretamente o ambiente para
a utiliza√ß√£o da ferramente, carregar arquivos vetoriais e realizar opera√ß√µes
espaciais.</p>
<div id="instalacao" class="section level2">
<h2><span class="header-section-number">4.1</span> Instala√ß√£o</h2>
<p>Como o PostGIS √© uma extens√£o do PostgreSQL, primeiramente dever√° ser feita a
instala√ß√£o do SGBD.</p>
<blockquote>
<p><strong>Importante</strong>: N√£o esque√ßa o nome de usu√°rio e senha que voc√™ definir durante
a instala√ß√£o, pois essas informa√ß√µes ser√£o de suma import√¢ncia, anote se
necess√°rio.</p>
</blockquote>
<p>A vers√£o do PostgreSQL utilizada aqui √© ser√° a 11.5. A instala√ß√£o do PostgreSQL
e PostGIS no sistema operacional windows, pode ser feita atrav√©s do instalador
dispon√≠vel <a href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads">nesse link</a>, para isso fique atento durante a instala√ß√£o e na
segunda tela do assistente, no item <code>Spatial Extensions</code> marque a op√ß√£o PostGIS.</p>
<p>A instala√ß√£o do PostgreSQL e PostGIS no sistema Operacional MacOS pode ser feita
atrav√©s do gerenciador de pacotes <code>brew</code>, utilizado os seguintes comandos:</p>
<pre class="console"><code>brew install postgres</code></pre>
<pre class="console"><code>brew install postgis</code></pre>
<p>Para a instala√ß√£o nos sistemas operacionais linux, utilize os seguintes comandos
:</p>
<pre class="console"><code>sudo apt install postgresql postgresql-contrib</code></pre>
<pre class="console"><code>sudo apt-get install postgis</code></pre>
<p>Para verificar se a instala√ß√£o do PostgreSQL foi realizada corretamente, abra o
terminal e digite o seguinte comando:</p>
<pre class="console"><code>psql --version</code></pre>
<p>Se tudo ocorreu bem, dever√° aparecer uma sa√≠da com a vers√£o do PostgreSQL, algo
parecido com <code>psql (PostgreSQL) 11.5</code>.</p>
<p>Para verificar a instala√ß√£o do PostGIS, abra o terminal e execute o seguinte
comando para abrir o interpretador do PostgreSQL:</p>
<pre class="console"><code>sudo -u &lt;user&gt; psql</code></pre>
<blockquote>
<p><strong>Obs</strong>: Substitua o trecho <code>&lt;user&gt;</code> para o usu√°rio do PostgreSQL definido na
instala√ß√£o.</p>
</blockquote>
<p>Com o terminal do PostgreSQL aberto, execute o seguinte comando para verificar a
vers√£o do PostGIS:</p>
<pre class="console"><code>SELECT PostGIS_version();</code></pre>
<p>Se tudo estiver certo, dever√° aparecer como sa√≠da a vers√£o do PostGIS. Para sair
do interpretador psql, basta executar o comando <code>\q</code>. E com isso finalizamos as
configura√ß√£o iniciais necess√°rias iniciar os trabalhos com o PostGIS. Para mais
informa√ß√µes, consulte a p√°gina oficial do PostGIS em:
<a href="https://postgis.net/install/">https://postgis.net/install</a>.</p>
<p>Na pr√≥xima se√ß√£o iremos criar um banco de dados novo e habilitar nele a extens√£o
espacial PostGIS, para que possam ser executadas as nossas primeiras consultas
espaciais.</p>
</div>
<div id="um-pouco-de-sql" class="section level2">
<h2><span class="header-section-number">4.2</span> Um pouco de SQL</h2>
<p>SQL (<em>Structured Query Language</em>) √© linguagem padr√£o de consultas declarativas
dos bancos de dados relacionais. Ela foi concebida na d√©cada de 1970, como
resultado de um estudo feito por Edgar Frank Codd, que na
√©poca era funcion√°rio da IBM, e prop√¥s o modelo de banco de dados relacional
<span class="citation">(Codd 1970)</span> que em sua ess√™ncia √© utilizado at√© os dias de hoje. Como
dito anteriormente, o PostGIS √© uma extens√£o espacial que funciona sobre o SGBD
PosgreSQL, que utiliza o modelo de banco de dados relacional. Sendo assim, antes
de iniciarmos de fato as consultas espaciais como o PostGIS, iremos executar
alguns comandos SQL b√°sicos para prepara√ß√£o do ambiente.</p>
<div id="acessando-a-interface-postgresql" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Acessando a interface PostgreSQL</h3>
<p>O <a href="https://www.postgresql.org/docs/11/app-psql.html"><code>psql</code></a> √© uma interface padr√£o que funciona por linha de comando, e permite
interagir rapidamente com o PostgreSQL. Como o foco deste material √© a apenas
apresentar alguns recursos do PostGIS, iremos executar as consultas SQL usando o
psql, o que n√£o √© muito recomendado se trabalhar com esquemas mais complexos de
bancos de dados, para isso, podem ser utilizado outras interfaces mais
agrad√°vies e eficienes como o <a href="https://www.pgadmin.org/">pgAdmin</a>.</p>
<p>Para acessar o psql execute o comando abaixo, substituindo o trecho <code>&lt;user&gt;</code>,
pelo nome de usu√°rio postgres que foi definido durante a instala√ß√£o:</p>
<pre class="console"><code>sudo -u &lt;user&gt; psql</code></pre>
<p>Ao ser solicitado a senha, digite a senha de administrador do seu sistema
operacional. O psql possui algumas utilit√°rio para o geraciomento do PostgreSQL,
use o comando <code>\l</code> para listar todos os bancos de dados dispon√≠veis, em sua
m√°quina. Algo parecido com o que mostrado na Figura <a href="introducao-ao-postgis.html#fig:list-database">4.1</a>
dever√° aparecer.</p>
<div class="figure"><span id="fig:list-database"></span>
<img src="assets/images/list-databases.png" alt="Listando todos os banco de dados atrav√©s do psql."  />
<p class="caption">
Figure 4.1: Listando todos os banco de dados atrav√©s do psql.
</p>
</div>
<p>Normalmente, a instala√ß√£o padr√£o do PostgreSQL cria algumas bases de dados. A
seguir, iremos utilizar comandos SQL para criar um novo banco de dados e tamb√©m
adicionar a extens√£o espacial do PostGIS.</p>
</div>
<div id="criando-uma-nova-base-de-dados" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Criando uma nova base de dados</h3>
<p>A linguagem SQL √© organizada em alguns subconjuntos, cada um deles com comando
espec√≠ficos para determinadas tarefas. A Figura <a href="introducao-ao-postgis.html#fig:schema-sql">4.2</a> mostra a
os subconjuntos que comp√µe a linguagem SQL.</p>
<div class="figure"><span id="fig:schema-sql"></span>
<img src="assets/images/schema-sql.png" alt="Listando todos os banco de dados atrav√©s do psql."  />
<p class="caption">
Figure 4.2: Listando todos os banco de dados atrav√©s do psql.
</p>
</div>
<ul>
<li><p><strong>DDL - <em>Data Definition Laguage</em> (Linguagem de Defini√ß√£o de Dados)</strong>: √â o
subconjunto de instru√ß√µes da linguagem SQL respons√°vel por manipular diretamente
o esquema do banco de dados e estrura das tabelas.</p></li>
<li><p><strong>DML - <em>Data Manipulation Language</em> (Linguagem de Manipula√ß√£o de Dados)</strong>: √â
o subconjunto de instru√ß√µes da linguagem SQL respons√°vel por interagir
diretamente com os dados das tabelas.</p></li>
<li><p><strong>DCL - <em>Data Control Language</em> (Linguagem de Controle de Dados)</strong>: √â o
subconjunto de instru√ß√µes da linguagem SQL respons√°vel por administrar a
seguran√ßa das bases de dados, adicionando ou removendo permiss√µes.</p></li>
<li><p><strong>TCL - <em>Transaction Control Language</em> (Linguagem de Controle de Transa√ß√£o)</strong>:
√â o subconjunto de instru√ß√µes da linguagem SQL respons√°vel por gerenciar as
transa√ß√µes das consultas SQL.</p></li>
</ul>
<p>Neste material, o escopo abordado ser√° apenas alguns comando do subconjunto DDL
e DML. Para mais informa√ß√µes a respeito do gerenciamento de banco de dados e a
organiza√ß√£o da linguagem SQL, recomenda-se a leitura do trabalho de
<span class="citation">(Kumar, Raheja, and Sachdeva 2012)</span>, o qual aborada com mais aprofundamento estes t√≥picos.</p>
<p>Agora iremos criar um banco de dados para trabalharmos com os recursos espacias
do PostGIS, para isso execute o comando a seguir:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb229-1" title="1"><span class="kw">CREATE</span> <span class="kw">DATABASE</span> dbgeo;</a></code></pre></div>
<p>O comando acima cria um novo banco de dados chamado <code>dbgeo</code>. Caso queira o criar
um banco de dados com o nome diferente, utilize o mesmo comando substituindo o
trecho <code>dbgeo</code> pelo nome desejado. Ap√≥s receber a mensagem de confirma√ß√£o, ser√°
necess√°rio mudar o interpretador psql para o novo banco de dados criado, para
isso utilize o seguinte comando:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb230-1" title="1">\l dbgeo;</a></code></pre></div>
<p>Note que o trecho <code>dbgeo</code> √© o nome da base de dados que foi criada no passo
anterior. Se tudo estiver ocorrido bem, dever√° aparecer a confirma√ß√£o conforme a
Figura <a href="introducao-ao-postgis.html#fig:change-database">4.3</a>.</p>
<div class="figure"><span id="fig:change-database"></span>
<img src="assets/images/change-database.png" alt="Criando e alterando base dados."  />
<p class="caption">
Figure 4.3: Criando e alterando base dados.
</p>
</div>
<p>Por fim, para habilitarmos a nova base de dados para suportar opera√ß√µes com
dados espaciais, iremos adicionar a extens√£o PostGIS. Para isso, execute o
seguinte comando:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb231-1" title="1"><span class="kw">CREATE</span> EXTENSION postgis;</a></code></pre></div>
<p>Ap√≥s adicionarmos a extens√£o PostGIS em nosso banco de dados, vamos criar a
nossa primeira tabela com atributos geom√©tricos.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="python.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
